<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <meta http-equiv="Content-Language" content="en" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="WWW::AdventCalendar v1.113" />
    <link rel="alternate" title="Perl Advent Calendar 2018 XML feed" href="atom.xml" type="application/atom+xml" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="stylesheet" href="style.css" type="text/css" />
    <link rel="stylesheet" href="2018.css" type="text/css" />
    <title>
Perl Advent Calendar 2018 - 
Sign o&#39; The Times

</title>
</head>
<body>
    <div id="contentwrapper">
        <div id="header">
            <h1><a href="index.html">Perl Advent Calendar 2018</a></h1>
        </div>

        <p id="tagline">2018 twenty four merry days of Perl
         <a class='feed' href="atom.xml">Feed</a>
        </p>

        <div id="content">
          

<h1 class='title'>Sign o&#39; The Times</h1>
<div class='subtitle'>Calendar::List - 2018-12-01</div>

<div class='pod'><h2 id="Manic-Monday">Manic Monday</h2>

<p>It is a well known fact that all of Santa&#39;s Elves are enthusiastic Perl Developers in their free time, contributing regularly to many of the amazing Perl projects we&#39;ve come to know and love. However, what you might not know is that they are also part of the Elven Perl Monger group, meeting up on every second Thursday of the month for social occasions, and every third Thursday for technical presentations. It has been said (often) that they should have them the other way around, so they have more time to recover from the social occasions!</p>

<p>It was coming towards the end of the year, and The Wise Old Elf was getting around to updating the Elven Perl Monger website with all the dates for 2019. He always kept getting reminded he was really bad with dates, so this year he wanted to get them all right first time.</p>

<p>As per usual, he started to look around CPAN, and came across a little known module, Calendar::List. It seemed to be able to figure out dates, and have some options to help him filter out days he wasn&#39;t interested in. After a bit of reading, he got something useful to begin with.</p>

<p>Calendar::List took two date format fields, and a set of configuration parameters. The date fields allowed The Wise Old Elf to use the EPOCH timestamp to order numerically, and the second format field to present the date as he wished. The configuration parameters, enabled him to specify days he didn&#39;t want, the number of entries he wanted to return, and make sure he only got back dates from 2019.</p>

<h2 id="Diamonds-And-Pearls">Diamonds And Pearls</h2>

<p>The Wise Old Elf, pleased with himself, proudly showed off his new code at the very next Elven technical meeting.</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;<br />14:&nbsp;<br />15:&nbsp;<br />16:&nbsp;<br />17:&nbsp;<br />18:&nbsp;<br />19:&nbsp;<br />20:&nbsp;<br />21:&nbsp;<br />22:&nbsp;<br />23:&nbsp;<br />24:&nbsp;<br />25:&nbsp;<br />26:&nbsp;<br />27:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">use</span> <span class="word">Calendar::List</span><span class="structure">;</span><br /><br /><span class="keyword">my</span> <span class="symbol">%config</span> <span class="operator">=</span> <span class="structure">(</span><br />&nbsp;&nbsp;<span class="single">'options'</span>   <span class="operator">=&gt;</span> <span class="number">52</span><span class="operator">,</span><br />&nbsp;&nbsp;<span class="single">'exclude'</span>   <span class="operator">=&gt;</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'monday'</span>    <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'tuesday'</span>   <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'wednesday'</span> <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'friday'</span>    <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'saturday'</span>  <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'sunday'</span>    <span class="operator">=&gt;</span> <span class="number">1</span><br />&nbsp;&nbsp;<span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;<span class="single">'start'</span>     <span class="operator">=&gt;</span> <span class="single">'01-01-2019'</span><span class="operator">,</span><br />&nbsp;&nbsp;<span class="single">'end'</span>       <span class="operator">=&gt;</span> <span class="single">'01-01-2020'</span><span class="operator">,</span><br /><span class="structure">);</span><br /><br /><span class="keyword">my</span> <span class="symbol">%hash</span> <span class="operator">=</span> <span class="word">calendar_list</span><span class="structure">(</span><span class="single">'EPOCH'</span> <span class="operator">=&gt;</span> <span class="single">'DDEXT MONTH YYYY'</span><span class="operator">,</span> <span class="cast">\</span><span class="symbol">%config</span><span class="structure">);</span><br /><span class="keyword">my</span> <span class="symbol">%match</span><span class="structure">;</span> <span class="comment"># counts the dates per month;</span><br /><span class="keyword">my</span> <span class="symbol">@dates</span><span class="structure">;</span> <span class="comment"># dates to print out</span><br /><br /><span class="keyword">for</span> <span class="keyword">my</span> <span class="symbol">$item</span> <span class="structure">(</span><span class="word">sort</span> <span class="word">keys</span> <span class="symbol">%hash</span><span class="structure">)</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword">my</span> <span class="structure">(</span><span class="symbol">$mon</span><span class="structure">)</span> <span class="operator">=</span> <span class="symbol">$hash</span><span class="structure">{</span><span class="symbol">$item</span><span class="structure">}</span> <span class="operator">=~</span> <span class="match">/^\w+\W+(\w+)\W+\w+/</span><span class="structure">;</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="symbol">$match</span><span class="structure">{</span><span class="symbol">$mon</span><span class="structure">}</span><span class="operator">++</span><span class="structure">;</span><br /><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">push</span> <span class="symbol">@dates</span><span class="operator">,</span> <span class="symbol">$hash</span><span class="structure">{</span><span class="symbol">$item</span><span class="structure">}</span> <span class="operator">.</span> <span class="single">' (Social)'</span>    <span class="word">if</span><span class="structure">(</span><span class="symbol">$match</span><span class="structure">{</span><span class="symbol">$mon</span><span class="structure">}</span> <span class="operator">==</span> <span class="number">2</span><span class="structure">);</span><br />&nbsp;&nbsp;&nbsp;&nbsp;<span class="word">push</span> <span class="symbol">@dates</span><span class="operator">,</span> <span class="symbol">$hash</span><span class="structure">{</span><span class="symbol">$item</span><span class="structure">}</span> <span class="operator">.</span> <span class="single">' (Technical)'</span> <span class="word">if</span><span class="structure">(</span><span class="symbol">$match</span><span class="structure">{</span><span class="symbol">$mon</span><span class="structure">}</span> <span class="operator">==</span> <span class="number">3</span><span class="structure">);</span><br /><span class="structure">}</span></code><br />&nbsp;</td></table>

<p>Some of the more learned elves shook their heads, and muttered &quot;He&#39;s done it again&quot; to themselves. &quot;What have I done again?&quot; The Wise Old Elf enquired. &quot;You&#39;ve forgotten the European Perl Conference again, and next year it&#39;s in Riga, so we&#39;re definitely going!&quot;, came the reply. &quot;Oh!&quot; said The Wise Old Elf.</p>

<p>&quot;It&#39;s OK&quot;, said Sugarplum Stripyboughs, stepping forward, &quot;we only have to change the configuration parameters, and you&#39;ll be sorted&quot;. A few moments later, she&#39;d made a few changes:</p>

<table class='code-listing'><tr><td class='line-numbers'><br /><code>1:&nbsp;<br />2:&nbsp;<br />3:&nbsp;<br />4:&nbsp;<br />5:&nbsp;<br />6:&nbsp;<br />7:&nbsp;<br />8:&nbsp;<br />9:&nbsp;<br />10:&nbsp;<br />11:&nbsp;<br />12:&nbsp;<br />13:&nbsp;</code><br />&nbsp;</td><td class='code'><br /><code><span class="keyword">my</span> <span class="symbol">%config</span> <span class="operator">=</span> <span class="structure">(</span><br />&nbsp;&nbsp;<span class="single">'options'</span>   <span class="operator">=&gt;</span> <span class="number">52</span><span class="operator">,</span><br />&nbsp;&nbsp;<span class="single">'exclude'</span>   <span class="operator">=&gt;</span> <span class="structure">{</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'monday'</span>    <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'tuesday'</span>   <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'wednesday'</span> <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'friday'</span>    <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'weekend'</span>   <span class="operator">=&gt;</span> <span class="number">1</span><span class="operator">,</span><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="single">'holidays'</span>  <span class="operator">=&gt;</span> <span class="structure">[</span> <span class="single">'07-08-2019'</span><span class="operator">,</span> <span class="single">'08-08-2019'</span><span class="operator">,</span> <span class="single">'09-08-2019'</span> <span class="structure">]</span><br />&nbsp;&nbsp;<span class="structure">}</span><span class="operator">,</span><br />&nbsp;&nbsp;<span class="single">'start'</span>     <span class="operator">=&gt;</span> <span class="single">'01-01-2019'</span><span class="operator">,</span><br />&nbsp;&nbsp;<span class="single">'end'</span>       <span class="operator">=&gt;</span> <span class="single">'01-01-2020'</span><span class="operator">,</span><br /><span class="structure">);</span></code><br />&nbsp;</td></table>

<p>&quot;Note I also changed &#39;saturday&#39; and &#39;sunday&#39; to &#39;weekend&#39; too, saves you a line of code.&quot; said Sugarplum. &quot;Excellent, thank you.&quot; The Wise Old Elf said with relief. &quot;Now I can update the website.&quot;</p>

<h2 id="Around-The-World-In-A-Day">Around The World In A Day</h2>

<p>The Wise Old Elf, after updating the website, sat back and thought how useful that script had been in helping him. &quot;I only need to update a few lines for next year, and I&#39;ll be done. Just hope I remember where I put the script!&quot;</p>

</div>

<div id='author'>
<img alt='Gravatar Image' style='vertical-align:middle' src=http://www.gravatar.com/avatar/92c6c2f8be6f62c74aae398b99aefe57?r=g&s=80&d=retro />
This article contributed by: Barbie &lt;barbie@cpan.org&gt;
</div>


<ul id="pager">
    <li class="previous">Previous</li>

    <li class="next"><a title="Perl in the Browser" href="2018-12-02.html">Next</a></li>
</ul>
<div style="clear: both"></div>

        </div>

    </div>



<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-27056407-1");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>





